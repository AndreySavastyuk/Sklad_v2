# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ MyPrinterApp

## –î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
03 –∏—é–Ω—è 2024, 22:40-22:50 (—Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

## –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- **–ú–æ–¥–µ–ª—å**: Samsung SM-X110 (–ø–ª–∞–Ω—à–µ—Ç 800x1340)
- **Android**: API —É—Ä–æ–≤–µ–Ω—å —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å –ø–ª–∞–Ω—à–µ—Ç–æ–º
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: ADB –∞–∫—Ç–∏–≤–Ω–æ

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã

#### 1. –°–±–æ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–ï–®–ù–û
- **–î–µ—Ç–∞–ª–∏**: 
  - `gradlew clean` - –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
  - `gradlew assembleDebug` - —Å–±–æ—Ä–∫–∞ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
  - `gradlew installDebug` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞
  - **Note**: Debug —Å–±–æ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

#### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–ï–®–ù–û
- **–î–µ—Ç–∞–ª–∏**:
  - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –∫—Ä–∞—à–µ–π
  - PID: 5259 (—Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
  - Splash screen –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
  - –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏: ~168MB (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)

#### 3. –ë–∞–∑–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–ï–®–ù–û
- **–î–µ—Ç–∞–ª–∏**:
  - –ù–∞–∂–∞—Ç–∏—è –ø–æ UI —ç–ª–µ–º–µ–Ω—Ç–∞–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
  - –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
  - –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
  - Express Connection –¥–æ—Å—Ç—É–ø–Ω–æ

#### 4. –†–∞–∑—Ä–µ—à–µ–Ω–∏—è
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–ï–®–ù–û
- **–î–µ—Ç–∞–ª–∏**:
  - Bluetooth —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—Ä–æ—à–µ–Ω—ã:
    - `BLUETOOTH_CONNECT`
    - `BLUETOOTH_SCAN`  
    - `BLUETOOTH_ADVERTISE`
  - –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã –∏ —Å–µ—Ç–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
  - USB —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

#### 5. Linter –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
- **–î–µ—Ç–∞–ª–∏**:
  - –ü–æ—Å–ª–µ `./gradlew clean` –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
  - –ö–æ–º–ø–∏–ª—è—Ü–∏—è Kotlin –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
  - –û—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (deprecated API)

### ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã–µ)

#### 1. Release —Å–±–æ—Ä–∫–∞ (R8 minification)
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ R8 –ø—Ä–∏ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ release –≤–µ—Ä—Å–∏–∏
- **–î–µ—Ç–∞–ª–∏**: Missing kotlinx.serialization classes
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å proguard rules –¥–ª—è kotlinx.serialization
- **–í–ª–∏—è–Ω–∏–µ**: –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - debug –≤–µ—Ä—Å–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

#### 2. Deprecated API –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ù–ï–ö–†–ò–¢–ò–ß–ù–û
- **–î–µ—Ç–∞–ª–∏**: 
  - Deprecated –∏–∫–æ–Ω–∫–∏ (ArrowBack, BluetoothSearching, etc.)
  - Deprecated Compose –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Divider, CircularProgressIndicator)
  - –ù–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üîç –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. ‚úÖ Kotlin Standard Library –æ—à–∏–±–∫–∏
- **–ë—ã–ª–æ**: "Cannot access built-in declaration 'kotlin.Unit'"
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
- **–°—Ç–∞—Ç—É—Å**: –†–ï–®–ï–ù–û

#### 2. ‚úÖ BLE Scanner Manager –º–µ—Ç–æ–¥—ã
- **–ë—ã–ª–æ**: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –≤ BleScannerPairingViewModel
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –ó–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã connectScanner
- **–°—Ç–∞—Ç—É—Å**: –†–ï–®–ï–ù–û

#### 3. ‚úÖ When –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- **–ë—ã–ª–æ**: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∞—è –≤–µ—Ç–∫–∞ CONNECTING
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–µ—Ç–∫–∏
- **–°—Ç–∞—Ç—É—Å**: –†–ï–®–ï–ù–û

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å R8 minification –¥–ª—è release**:
   ```gradle
   # –í proguard-rules.pro –¥–æ–±–∞–≤–∏—Ç—å:
   -keep class kotlinx.serialization.** { *; }
   -keep class kotlinx.datetime.** { *; }
   ```

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. **–û–±–Ω–æ–≤–∏—Ç—å deprecated API**:
   - –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ AutoMirrored –≤–µ—Ä—Å–∏–∏ –∏–∫–æ–Ω–æ–∫
   - –û–±–Ω–æ–≤–∏—Ç—å Compose –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏**:
   - –¢–µ—Å—Ç —Å Newland BLE —Å–∫–∞–Ω–µ—Ä–æ–º
   - –¢–µ—Å—Ç —Å —Ç–µ—Ä–º–æ–ø—Ä–∏–Ω—Ç–µ—Ä–æ–º

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:
   - –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å imports

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞**: ‚úÖ **–ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –∏ —Ä–∞–±–æ—Ç–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è  
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- ‚úÖ –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ BLE –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ Express Connection —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
- ‚ùå **–û–¢–°–£–¢–°–¢–í–£–Æ–¢**

### –ù–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
- ‚ö†Ô∏è R8 minification (—Ç–æ–ª—å–∫–æ –¥–ª—è release)
- ‚ö†Ô∏è Deprecated API warnings (–Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

**–§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: 
üéâ **–ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

Debug –≤–µ—Ä—Å–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ. Release –≤–µ—Ä—Å–∏—è —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫ R8 rules, –Ω–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è. 